<div class="container mt-5">

    <div class="row">
        <div class="col-lg-8 offset-lg-2">
            <div class="card">
                <div class="card-body">
                    <h3 class="title">Cartera de Clientes</h3>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-4">

        <div class="col-lg-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="title">{{ action }} Cliente</h5>

                    <form [formGroup]="form" (ngSubmit)="storeClient()">

                        <div class="input-group input-group-lg mb-3">
                            <span class="input-group-text"><i class="fas fa-user" 
                                [class.green-icon]="this.form.get('name')?.valid"
                                [class.red-icon]="this.form.get('name')?.invalid && this.form.get('name')?.touched"></i></span>
                            <input formControlName="name" type="text" class="form-control" placeholder="Apellido y Nombre, separados por coma.">
                        </div>
                        
                        <div class="input-group input-group-lg mb-3">
                            <span class="input-group-text"><i class="fas fa-id-card"
                                [class.green-icon]="this.form.get('dni')?.valid"
                                [class.red-icon]="this.form.get('dni')?.invalid && this.form.get('dni')?.touched"></i></span>
                            <input formControlName="dni" maxlength="10" type="text" class="form-control" placeholder="DNI (Documento Nacional de Identidad).">
                        </div>
                        
                        <div class="input-group input-group-lg mb-3">
                            <span class="input-group-text"><i class="fas fa-phone"
                                [class.green-icon]="this.form.get('phone')?.valid"
                                [class.red-icon]="this.form.get('phone')?.invalid && this.form.get('phone')?.touched"></i></span>
                            <input formControlName="phone" maxlength="20" minlength="10" type="text" class="form-control" placeholder="Teléfono de preferencia.">
                        </div>

                        <div class="input-group input-group-lg mb-3">
                            <span class="input-group-text"><i class="fas fa-house-user"
                                [class.green-icon]="this.form.get('address')?.valid"
                                [class.red-icon]="this.form.get('address')?.invalid && this.form.get('address')?.touched"></i></span>
                            <input formControlName="address" type="text" class="form-control" placeholder="Dirección de residencia.">
                        </div>

                          <div class="row">

                              <div class="col-lg-7">
                                <div class="input-group input-group-lg mb-3">
                                    <span class="input-group-text"><i class="fas fa-map-marker-alt"
                                        [class.green-icon]="this.form.get('city')?.valid"
                                        [class.red-icon]="this.form.get('city')?.invalid && this.form.get('city')?.touched"></i></span>
                                    <input formControlName="city" type="text" class="form-control" placeholder="Localidad.">
                                  </div>
                              </div>

                              <div class="col-lg-5">
                                <select formControlName="province" class="form-select">
                                    <option selected disabled>Provincia</option>
                                    <option value="Capital Federal">Capital Federal</option>
                                    <option value="Buenos Aires">Buenos Aires</option>
                                    <option value="Catamarca3">Catamarca</option>
                                    <option value="Chaco">Chaco</option>
                                    <option value="Chubut">Chubut</option>
                                    <option value="Córdoba">Córdoba</option>
                                    <option value="Corrientes">Corrientes</option>
                                    <option value="Entre Ríos">Entre Ríos</option>
                                    <option value="Formosa">Formosa</option>
                                    <option value="Jujuy">Jujuy</option>
                                    <option value="La Pampa">La Pampa</option>
                                    <option value="La Rioja">La Rioja</option>
                                    <option value="Mendoza">Mendoza</option>
                                    <option value="Misiones">Misiones</option>
                                    <option value="Neuquén">Neuquén</option>
                                    <option value="Río Negro">Río Negro</option>
                                    <option value="Salta">Salta</option>
                                    <option value="San Juan">San Juan</option>
                                    <option value="San Luis">San Luis</option>
                                    <option value="Santa Cruz">Santa Cruz</option>
                                    <option value="Santa Fe">Santa Fe</option>
                                    <option value="Sgo. del Estero">Sgo. del Estero</option>
                                    <option value="Tierra del Fuego">Tierra del Fuego</option>
                                    <option value="Tucumán">Tucumán</option>
                                  </select>
                              </div>
                          </div>

                          <div class="d-grid gap-2">
                            <button [disabled]="this.form.invalid" type="submit" class="btn btn-success btn-lg">Aceptar</button>
                          </div> 
                    </form>

                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="title">Registro de Clientes</h5>
                    <table class="table">
                        <tbody>
                            <tr *ngFor="let client of listClients">
                                <td>{{client.dni}}</td>
                                <td>{{client.name}}</td>
                                <td>{{client.phone}}</td>
                                <td>{{client.address}}</td>
                                <td>{{client.city}}</td>
                                <td>{{client.province}}</td>
                                <td><i (click)="editClient(client)" class="fas fa-user-edit text-info"></i></td>
                                <td><i (click)="deleteClient(client.id)" class="fas fa-user-minus text-danger"></i></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
